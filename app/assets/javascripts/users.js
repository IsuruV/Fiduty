var socialContent = `  <div class="main-dashboard">
		  <div class="social-content">
		<div class="content-mid">
				<div class="middle-content" style="margin-top:5px; margin-bottom:15px; margin-left:20px; margin-right:20px;border-style:none; box-shadow:none " >
                <div class="col-md-12">
        <div class="row-fluid">
             <div class="btn-group btn-group-justified">
  <a id="everyonebtn" href="#" class="btn btn-primary btn-lg">Everyone</a>
  <a id="friendsbtn" href="#" class="btn btn-primary btn-lg">Friends</a>
  <a id="scoreboardbtn" href="#" class="btn btn-primary btn-lg">Scoreboard</a>
                </div>
        </div>
        <br>
        
        
 <!----------------Social Feed
					---------------------->
       
       
        
<div id="people" class="list-group" style="font-family:'Roboto'; font-size:14px; color:#666666;">
  <a href="#" class="list-group-item clearfix list-group-item-action align-items-start" style="border-radius:0px">
    <div class="row">
      <div class="col-sm-3"><div style="height:140;border:0px solid #000">
      <img src="/assets/Isuruprofile.jpg" class="img-circle img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:20px">
      </div></div><!----><div class="col-sm-7 vcenter" style="margin-top:30px"><div style="height:80;border:0px solid #F00"><h3>Bob chipped in SPYDR POOP index</h3><small class="text-muted">3 days ago</small> </div>
      </div><!----><div class="col-md-2" style="margin-top:90px"><button type="button" class="btn btn-success btn-lg" style="position: absolute; right: 10px;">Chip in</button></div>
      </div>
     </a>
  <a href="#" class="list-group-item clearfix list-group-item-action flex-column align-items-start" style="border-radius:0px">
<div class="row">
  <div class="col-sm-3"><div style="height:140;border:0px solid #000"><img src="/assets/Rashidprofile.jpg" class="img-circle img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:20px">
  </div></div><!----><div class="col-sm-7 vcenter" style="margin-top:30px"><div style="height:80;border:0px solid #F00"><h3>Trump chipped in The Wall Fund</h3><small class="text-muted">3 days ago</small> </div></div>
  <div class="col-md-2" style="margin-top:90px"><button type="button" class="btn btn-success btn-lg" style="position: absolute; right: 10px;">Chip in</button></div>
  </div>
</a>
  <a href="#" class="list-group-item clearfix list-group-item-action align-items-start" style="border-radius:0px">
    <div class="row">
      <div class="col-sm-3"><div style="height:140;border:0px solid #000">
      <img src="/assets/Isuruprofile.jpg" class="img-circle img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:20px">
      </div></div><!----><div class="col-sm-7 vcenter" style="margin-top:30px"><div style="height:80;border:0px solid #F00"><h3>Bob chipped in SPYDR POOP index</h3><small class="text-muted">3 days ago</small> </div>
      </div><!----><div class="col-md-2" style="margin-top:90px"><button type="button" class="btn btn-success btn-lg" style="position: absolute; right: 10px;">Chip in</button></div>
      </div>
     </a>
  <a href="#" class="list-group-item clearfix list-group-item-action flex-column align-items-start" style="border-radius:0px">
<div class="row">
  <div class="col-sm-3"><div style="height:140;border:0px solid #000"><img src="/assets/Rashidprofile.jpg" class="img-circle img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:20px">
  </div></div><!----><div class="col-sm-7 vcenter" style="margin-top:30px"><div style="height:80;border:0px solid #F00"><h3>Trump chipped in The Wall Fund</h3><small class="text-muted">3 days ago</small> </div></div>
  <div class="col-md-2" style="margin-top:90px"><button type="button" class="btn btn-success btn-lg" style="position: absolute; right: 10px;">Chip in</button></div>
  </div>
</a>
  </div>
			</div>
			<div class="clearfix"> </div>
		</div>
		</div>
		</div>
		</div>`

var mainDashBoardContent =`    <div class="main-dashboard">
		<div class="content-mid">
			<div class="col-md-8">
				<div class="middle-content" style="height:400px; border-style:none; box-shadow:none">
					<h2 style="text-align:center;">Tasks</h2>
				<div class="table-responsive">
  	<table class="table table-hover">
  	<thead>
    <tr>
      <th>#</th>
      <th style="font:Roboto; color:#666666">Column heading</th>
      <th style="font:Roboto; color:#666666">Column heading</th>
    </tr>
  	</thead>
  	<tbody>
    <tr>
      <td>1</td>
      <td>Column content</td>
      <td>Column content</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Column content</td>
      <td>Column content</td>
    </tr>
    <tr class="info">
      <td>3</td>
      <td>Column content</td>
      <td>Column content</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Column content</td>
      <td>Column content</td>
    </tr>
  	</tbody>
	</table>
</div>				
</div>
			</div><!----><div class="col-md-4">
			  <div class="middle-content" style="height:400px; background:rgba(51, 153, 204, 1);border-style:none;border-radius:0px ">
				<div style="color:white; padding-right:auto; padding-top:auto; padding-bottom:auto; padding-left:auto">
		      <br>
		      <p><h2 class="featurette-heading">Next Step:</p><br>I would start with getting some basic knowledge about finance</h2>
		      
		    </div>
				</div>
			</div>
			<div class="clearfix"> </div>
		</div>
		
 <!----------------End Content Mid
					---------------------->	

 <!----------------Content Bottom
					---------------------->					

	<div class="content-bottom">
			<div class="col-md-7 post-top">
			<div class="middle-content" style="margin-bottom:15px;height:500px;">
				<h2 style="text-align:center;">Coming up features</h2><br>
				<span style="font-family:'Roboto'; color:#666666;">
					<div class="list-group">
  						<a href="#" class="list-group-item active">
    					Cras justo odio
  						</a>
  						<a href="#" class="list-group-item">Dapibus ac facilisis in
  						</a>
  						<a href="#" class="list-group-item">Morbi leo risus
  						</a>
    					<a href="#" class="list-group-item">Morbi leo risus
  						</a>
    					<a href="#" class="list-group-item">Morbi leo risus
  						</a>
					</div>
			</div>
			</div><!----><div class="col-md-5 post-top">
			  <div class="middle-content" style="height:500px; margin-right:15px">
				<h2 style="text-align:center;">Personal Advice</h2>
				<div class="table-responsive">
  				<table class="table table-hover">
  				  <thead>
    <tr>
      <th>#</th>
      <th>Column heading</th>
      <th>Column heading</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Column content</td>
      <td>Column content</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Column content</td>
      <td>Column content</td>
    </tr>
    <tr class="info">
      <td>3</td>
      <td>Column content</td>
      <td>Column content</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Column content</td>
      <td>Column content</td>
    </tr>
    <tr>
  </tbody>
				</table>
				</div>
				</div>
			</div>
			<div class="clearfix"></div>
	</div></span>
	</div>
`

var knowledgeContent = `<div class="main-dashboard">
	<div class="middle-content" style="margin-top:0px; margin-bottom:10px; margin-left:10px; margin-right:10px;border-style:none; box-shadow:none " >
		
	<!------------Content title------------->	
	
		<div class="row-fluid" style="height:100px">
		<div class="col-sm-12" style="text-align:center"><p><h1>Here you get knowledge to understand finance</h1></p>
    </div>
    </div>
    
  <!------------------------->

    <div class="row-fluid">
    <div class="btn-group btn-group-justified" style="height:400px;">
      <a href="#" class="btn btn-warning btn-lg" style="white-space: normal">Learn basic finance concepts and understand them</a>
      <a href="#" class="btn btn-success btn-lg" style="white-space: normal;">Take a quiz, check that you got the topic and earn 10 virtual $ to invest</a>
      <a href="#" class="btn btn-primary btn-lg" style="white-space: normal;">Get some tips as you go to improve your investments</a>
    </div>
    </div>
    <br>
        
 <!----------------Cards---------------------->
        
    <div class="list-group" style="font-family:'Roboto'; font-size:14px; color:#666666;">
    
    
      <a href="#" class="list-group-item clearfix list-group-item-action align-items-start" style="border-radius:0px">
        <div class="row">
          <div class="col-sm-3">
          <div style="height:140;border:0px solid #000">
          <img src="/assets/Isuruprofile.jpg" class="img img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:20px">
          </div></div><!----><div class="col-sm-7 vcenter" style="margin-top:30px">
          <div style="height:80;border:0px solid #F00"><h2>What is investment?</h2><small class="text-muted">3 days ago</small>
          </div>
          </div>
        </div>
      </a>
      
      <a href="#" class="list-group-item clearfix list-group-item-action flex-column align-items-start" style="border-radius:0px">
        <div class="row">
          <div class="col-sm-3">
          <div style="height:140;border:0px solid #000"><img src="/assets/Rashidprofile.jpg" class="img img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:20px">
          </div></div><!----><div class="col-sm-7 vcenter" style="margin-top:30px">
          <div style="height:80;border:0px solid #F00"><h2>Stocks explained</h2><small class="text-muted">3 days ago</small>
          </div>
          </div>
        </div>
      </a>
      
      <a href="#" class="list-group-item clearfix list-group-item-action align-items-start" style="border-radius:0px">
        <div class="row">
          <div class="col-sm-3">
          <div style="height:140;border:0px solid #000">
          <img src="/assets/Isuruprofile.jpg" class="img img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:20px">
          </div></div><!----><div class="col-sm-7 vcenter" style="margin-top:30px">
          <div style="height:80;border:0px solid #F00"><h2>What is investment?</h2><small class="text-muted">3 days ago</small>
          </div>
          </div>
        </div>
      </a>

      <a href="#" class="list-group-item clearfix list-group-item-action flex-column align-items-start" style="border-radius:0px">
        <div class="row">
          <div class="col-sm-3">
          <div style="height:140;border:0px solid #000"><img src="/assets/Rashidprofile.jpg" class="img img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:20px">
          </div></div><!----><div class="col-sm-7 vcenter" style="margin-top:30px">
          <div style="height:80;border:0px solid #F00"><h2>Stocks explained</h2><small class="text-muted">3 days ago</small>
          </div>
          </div>
        </div>
      </a>
  
  </div>`
  
  
  var experienceContent = `		<div class="main-dashboard" style="margin-top:0px; margin-bottom:10px; margin-left:10px; margin-right:10px;border-style:none; box-shadow:none " >
	
	<!------------Content title------------->   
		<div class="row-fluid" style="height:80px">
		  <div class="col-sm-12" style="text-align:center"><p><h1>Here you invest and get experience</h1></p>
      </div>
    </div>
  <!------------------------->

		<div class="row">
		  <div class="col-sm-12">
		      <div style="margin-left:40px; margin-right:40px; margin-top:0px; padding-bottom:40px; padding-left:20px">
		      <br>
		      <p><h2 class="featurette-heading">Total Investment: <span style="color:green">$285</span></h2></p><br>
		      <p><h2 class="featurette-heading">Total Value: <span style="color:green">$295</span></h2></p><br>
		      <p><h2 class="featurette-heading">Total Gain/Loss: <span style="color:green">$10</span></h2></p><br>
		      <p><h2 class="featurette-heading">ROI: <span style="color:green">1.6%</span></h2></p>
		  </div></div>
		</div>
		    
	<!------------Portfolio Listings------------->
		    
    <div class="list-group" style="font-family:'Roboto'; font-size:14px; color:#666666;" >
    
      <a id="etf" href="#" class="list-group-item clearfix list-group-item-action align-items-start"  style="border-radius:0px">
        <div class="row">
          <div class="col-md-3">
          <div style="height:140;border:0px solid #000">
          <img src="/assets/SPDR.jpg" class="img img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:30px;margin-bottom:10px">
          </div></div><!----><div class="col-md-7 vcenter" style="margin-top:30px"><div style="height:80;border:0px solid #F00"><h3>American Jumbo Companies</h3><small class="text-muted">Underlying Asset: SPDR S&P 500</small>
          </div>
          </div><!----><div class="col-md-2" style="margin-top:20px;text-align:right"><h2 style="color:green">17.5%</h2><br><button type="button" class="btn btn-success btn-lg">Invest</button></div>
        </div>
        <div id="etf_detail" class="row" style="display:none;">
          <div class="col-md-3">
          </div><!----><div class="col-md-7 vcenter"><div style="height:80;border:0px solid #F00"><h4 style="color:green">Details:</h4><br>Imagine all the tech companies in the United States. This portfolio represents little portion of each of them. Apple, Amazon and Google and all of them.
          <br><br><span style="color:grey">
          ----> Here --- how many friends have invested or smth</span></div>
          </div><!----><div class="col-md-2" style="margin-top:20px;text-align:right"></div>
        </div>
      </a>
      
      
      <a href="#" id="etf" class="list-group-item clearfix list-group-item-action align-items-start" style="border-radius:0px; border-style:solid; border-color:black; border-width:thin;">
        <div class="row">
          <div class="col-md-3">
          <div style="height:140;border:0px solid #000">
          <img src="/assets/ishares_logo.jpg" class="img img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:30px;margin-bottom:10px">
          </div></div><!----><div class="col-md-7 vcenter" style="margin-top:30px"><div style="height:80;border:0px solid #F00"><h3>Techno Giants</h3><small class="text-muted">Underlying Asset: iShares U.S. Technology ETF</small>
          </div>
          </div><!----><div class="col-md-2" style="margin-top:20px;text-align:right"><h2 style="color:green">7.84%</h2><br><button type="button" class="btn btn-success btn-lg">Invest</button></div>
        </div>
        
<!--------------------------More details when clicked on a portfolio------>
        <div id="etf_detail" class="row" style="display:none;">
          <div class="col-md-3">
          </div><!----><div class="col-md-7 vcenter"><div style="height:80;border:0px solid #F00"><h4 style="color:green">Details:</h4><br>Imagine all the tech companies in the United States. This portfolio represents little portion of each of them. Apple, Amazon and Google and all of them.
          <br><br><span style="color:grey">
          ----> Here --- how many friends have invested or smth</span></div>
          </div><!----><div class="col-md-2" style="margin-top:20px;text-align:right"></div>
        </div>
      </a>
      
<!-------------------------------->
        
      <a href="#" id="etf" class="list-group-item clearfix list-group-item-action align-items-start" style="border-radius:0px;border-top-style:solid; border-top-color:black; border-top-width:thin">
        <div class="row">
          <div class="col-md-3">
          <div style="height:140;border:0px solid #000">
          <img src="/assets/SPDR.jpg" class="img img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:10px;margin-bottom:10px">
          </div></div><!----><div class="col-md-7 vcenter" style="margin-top:30px"><div style="height:80;border:0px solid #F00"><h3>Wall Street Companies</h3><small class="text-muted">Underlying Asset: Financial Select Sector SPDR Fund</small>
          </div>
          </div><!----><div class="col-md-2" style="margin-top:20px;text-align:right"><h2 style="color:green">0.27%</h2><br><button type="button" class="btn btn-success btn-lg">Invest</button></div>
        </div>
      <div id="etf_detail" class="row" style="display:none;">
          <div class="col-md-3">
          </div><!----><div class="col-md-7 vcenter"><div style="height:80;border:0px solid #F00"><h4 style="color:green">Details:</h4><br>Imagine all the tech companies in the United States. This portfolio represents little portion of each of them. Apple, Amazon and Google and all of them.
          <br><br><span style="color:grey">
          ----> Here --- how many friends have invested or smth</span></div>
          </div><!----><div class="col-md-2" style="margin-top:20px;text-align:right"></div>
        </div>
      </a>
      
      <a href="#" id="etf" class="list-group-item clearfix list-group-item-action align-items-start"  style="border-radius:0px">
        <div class="row">
          <div class="col-md-3">
          <div style="height:140;border:0px solid #000">
          <img src="/assets/ishares_logo.jpg" class="img img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:30px;margin-bottom:10px">
          </div></div><!----><div class="col-md-7 vcenter" style="margin-top:30px"><div style="height:80;border:0px solid #F00"><h3>Oil and Gas companies</h3><small class="text-muted">Underlying Asset: U.S. Oil & Gas Exploration & Production ETF</small>
          </div>
          </div><!----><div class="col-md-2" style="margin-top:20px;text-align:right"><h2 style="color:red">-1.39%</h2><br><button type="button" class="btn btn-success btn-lg">Invest</button></div>
        </div>
         <div id="etf_detail" class="row" style="display:none;">
          <div class="col-md-3">
          </div><!----><div class="col-md-7 vcenter"><div style="height:80;border:0px solid #F00"><h4 style="color:green">Details:</h4><br>Imagine all the tech companies in the United States. This portfolio represents little portion of each of them. Apple, Amazon and Google and all of them.
          <br><br><span style="color:grey">
          ----> Here --- how many friends have invested or smth</span></div>
          </div><!----><div class="col-md-2" style="margin-top:20px;text-align:right"></div>
        </div>
      </a>
    </div>
    
  <!------------ End Portfolio Listings------------->  
    
	</div>`
  
  

function fader(content, location){
           $(location).fadeOut("normal",function(){
           var div = $(location).hide();
           $(this).replaceWith((content));
           $(location).fadeIn("normal");
         })
}

function clickSocial(){
    $(document).on('click',"#social-tab",function(ev){
        ev.preventDefault();
        fader(socialContent, '.main-dashboard');
    })
}


function clickDashBoard(){
    $(document).on('click',"#dashboard-tab",function(ev){
         ev.preventDefault();
          fader(mainDashBoardContent, '.main-dashboard');
    });
}

function clickKnowledge(){
  $(document).on('click',"#knowledge-tab",function(ev){
    ev.preventDefault();
    fader(knowledgeContent,'.main-dashboard');
  })
}

function clickExperience(){
  $(document).on('click',"#experience-tab",function(ev){
    ev.preventDefault();

    fader(experienceContent, '.main-dashboard');
  })
}

const everyone = (data, d)=>{
  return `<div id="people" class="list-group" style="font-family:'Roboto'; font-size:14px; color:#666666;">
  ${data.map( person=> 
    `<a href="#" class="list-group-item clearfix list-group-item-action align-items-start" style="border-radius:0px">
    <div class="row">
      <div class="col-sm-3"><div style="height:140;border:0px solid #000">
      <img src="/assets/Rashidprofile.jpg" class="img-circle img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:20px">
      </div></div><!----><div class="col-sm-7 vcenter" style="margin-top:30px"><div style="height:80;border:0px solid #F00"><h3>${person.name} chipped in ${person.last_portfolio_name}</h3><small class="text-muted">${new Date().getDay(person.investment_date)} days ago</small> </div>
      </div><!----><div class="col-md-2" style="margin-top:90px"><button type="button" class="btn btn-success btn-lg" style="position: absolute; right: 10px;">Chip in</button></div>
      </div>
     </a>`
    )
  }
   </div>
  `
}

function everyoneBtn(){
    var d = new Date();
    var n = d.getTime();
    $(document).on('click',"#everyonebtn",function(ev){
        ev.preventDefault();
              $.ajax({
            type: 'post',
            url: `/users/social.json`,
            dataType: 'json',
            data: {"choice": "everyone"}
          }).done(function(data) {
            debugger;
             var result = data.slice(data.length-20,data.length)
             fader(everyone(result, d),"#people");
          });
          
    })
}

function friendsBtn(){
  var friends= `<div id="people" class="list-group" style="font-family:'Roboto'; font-size:14px; color:#666666;">
  <a href="#" class="list-group-item clearfix list-group-item-action align-items-start" style="border-radius:0px">
    <div class="row">
      <div class="col-sm-3"><div style="height:140;border:0px solid #000">
      <img src="/assets/Isuruprofile.jpg" class="img-circle img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:20px">
      </div></div><!----><div class="col-sm-7 vcenter" style="margin-top:30px"><div style="height:80;border:0px solid #F00"><h3>Bob chipped in SPYDR POOP index</h3><small class="text-muted">3 days ago</small> </div>
      </div><!----><div class="col-md-2" style="margin-top:90px"><button type="button" class="btn btn-success btn-lg" style="position: absolute; right: 10px;">Chip in</button></div>
      </div>
     </a>
     </div>`
     
      $(document).on('click',"#friendsbtn",function(ev){
        ev.preventDefault();
        fader(friends,"#people");
    })
}

function scoreBoardBtn(){
  var scoreboard = `<div id="people" class="list-group" style="font-family:'Roboto'; font-size:14px; color:#666666;">
 <a href="#" class="list-group-item clearfix list-group-item-action flex-column align-items-start" style="border-radius:0px">
<div class="row">
  <div class="col-sm-3"><div style="height:140;border:0px solid #000"><img src="/assets/Rashidprofile.jpg" class="img-circle img-fluid" alt="Cinque Terre" width="100" height-max="100" style="margin-top:20px">
  </div></div><!----><div class="col-sm-7 vcenter" style="margin-top:30px"><div style="height:80;border:0px solid #F00"><h3>Trump chipped in The Wall Fund</h3><small class="text-muted">3 days ago</small> </div></div>
  <div class="col-md-2" style="margin-top:90px"><button type="button" class="btn btn-success btn-lg" style="position: absolute; right: 10px;">Chip in</button></div>
  </div>
</a>
  </div>`
      $(document).on('click',"#scoreboardbtn",function(ev){
        ev.preventDefault();
        fader(scoreboard,"#people");
    })
}

const onClickETF = ()=>{
  $(document).on('click','#etf', (ev)=>{
    ev.preventDefault();
    const childDiv = $(ev.currentTarget).context.lastElementChild;
    // debugger;
    if ($(childDiv).is(':visible')){
      $(childDiv).slideUp();
    }else{
      $(childDiv).slideDown();
    }
  })
}

$(document).ready(function(){
    clickSocial();
    clickDashBoard();
    friendsBtn();
    scoreBoardBtn();
    everyoneBtn();
    clickKnowledge();
    clickExperience();
    onClickETF();
    $('#toggle').toggle('slow');
})

